<html><head></head><body>
<title>Gazebo</title>
<h2 align=center>RViz</h2>
RViz — инструмент для 3D-визуализации данных и состояния робота в ROS.
<p>
Запуск: <b>rviz</b> или <b>rosrun rviz</b>
<p>
Изучение RViz будем рассматривать на примере робота <a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/">Turtlebot 3</a>.
<ol>
<li> Для начала установим необходимые пакеты, зависимости, выполняя пункты 3.1.2 - 3.1.4 из <a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/">этой страницы</a> 
<p>
Потом со <a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/simulation/">страницы Turtlebot3 simulation</a>  выполняем пункт 6.1.1:<br>
<b>cd ~/catkin_ws/src/<br>
git clone -b noetic-devel https://github.com/ROBOTIS-GIT/turtlebot3_simulations.git<br>
cd ~/catkin_ws && catkin_make</b>
<p>
<font color=red>Возникала ошибка, что ros не видел нужный мне уже установленный пакет turtlebot3_gazebo и вообще все пакеты из catkin_ws/src.</font><br>
Ошибку устранил после того как в файле ~/.bashrc расположил строки в правильном порядке:<br>
<img src="./images/setup.bash.png"><br>
Если эти строки в другом порядке расположить, тогда возникает ошибка, что ros не видит пакеты в catkin_ws/src.
<li> Скачиваем модель burger:<br>
<b>export TURTLEBOT3_MODEL=burger</b>
<p>
Запускаем в gazebo файл.launch:<br>
<b>roslaunch turtlebot3_gazebo turtlebot3_world.launch</b>
<p>
Из-за того что не выполнил вначале export TURTLEBOT3_MODEL=burger возникает ошибка:<br>
<img src="./images/roslaunch_mistake.png">
<p>
Выполнил обе команды, но теперь ошибка:<br>
<img src="./images/roslaunch_mistake1.png">
<p>
Сказали, что проблема в видеокарте. Я всё-же решил установить отдельно gazebo на ubuntu и проверить, как он будет запускаться.
<h3>Установка Gazebo</h3>
Устанавливать буду классический gazebo11 со страницы <a href="https://classic.gazebosim.org/tutorials?tut=install_ubuntu">Install Gazebo using Ubuntu packages</a>.<br>
Есть несколько способов установки Gazebo:
<ol>
<li> Как написано, используя ubuntu пакеты <a href="https://packages.ubuntu.com/source/jammy/gazebo">на этой странице</a> скачиваем архивы и потом распаковываем в бинарные пакеты.
<li> Одной командой:<b>curl -sSL http://get.gazebosim.org | sh</b> и потом выполнить команду <b>gazebo</b>
<li> Шаг за шагом, буду его использовать:
<ol>
<li> Установим доступ к репозиторию packages.osrfoundation.org:<br>
<font color=green>sudo sh -c 'echo "deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main" > /etc/apt/sources.list.d/gazebo-stable.list'</font>
<p>
Можем проверить, что путь к репозиторию записан и правильно:<br>
<b>cat /etc/apt/sources.list.d/gazebo-stable.list</b><br>
Если всё верно, то увидим:<br>
<img src="./images/repositoriy.png">
<li> Установка ключей на свой компьютер:<br>
<font color=green>wget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -</font><br>
<img src="./images/gazebo.key.png">
<li> Установка Gazebo:<br>
Обновим debian базу данных:<b>sudo apt-get update</b>
<p>
Теперь установим Gazebo 11:<br>
<b>sudo apt-get install gazebo11</b><br>
Будет установлен пакет gazebo11 самой новой версии (11.14.0-1~focal)<br>
Дополнительно нужно установить еще один пакет:<br>
<b>sudo apt-get install libgazebo11-dev</b><br>
У меня был уже установлен пакет libgazebo11-dev самой новой версии (11.14.0-1~focal)
<li> Проверяем: <b>gazebo</b><br>
У меня не открылся:<br>
<img src="./images/gazebo_mistake.png">
<p>
<font color=red>Видимо всё же проблема в видеокарте.</font>
</ol>
</ol>
<h3>12.08.2024</h3>
Проблему запуска gazebo похоже решил в компьютере с windows7 программой <a href="gazebo_mobaxterm.html">mobaxterm</a>. Она устанавливает соединение с linux-компьютером и позволяет выполнить gazebo на windows-компьютере.
<p>
В терминале mobaxterm:<br>
export TURTLEBOT3_MODEL=burger<br>
roslaunch turtlebot3_gazebo turtlebot3_world.launch
<p>
Далее <a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/nav_simulation/">пункт 6.3.2 Run Navigation Node</a> (запускаем RVIZ):<br>
export TURTLEBOT3_MODEL=burger<br>
roslaunch turtlebot3_navigation turtlebot3_navigation.launch
<p>
Если выполнить эти пункты в терминале gnome, то получим ошибку, видимо также из-за косяка с видеокартой. Поэтому эти команды выполним в терминале mobaxterm.
<p>
Без газебо открывается, а с ним не получилось.
<p>



<br><br><br><br><br><br></body></html>
