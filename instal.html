<html><head></head><body>
<title>Установка программ</title>
Способы установки программ:
<ol>
    <li>С помощью репозиториев (менеджера пакетов)
    <li>С помощью бинарных файлов
    <li>Из исходных кодов
</ol>
<h3 align="center">Установка с помощью менеджера пакетов</h3>
Менеджер пакетов — это набор инструментов, способных распознать архив в подходящем формате и правильно расфасовать его содержимое по нужным директориям, чтобы в итоге получилась рабочая программа. Такие инструменты есть в любой системе (речь не только про Linux) и все они работают примерно схожим образом со стороны пользователя.
<p>
Самые популярные форматы пакетов в Linux: DEB и RPM. Первый создавался для Debian и его производных, а второй для Red Hat Linux и его производных. Оба управляются специальными пакетными менеджерами. Их намного больше, чем самих форматов. Есть Advanced Packaging Tool (apt) для тех, кто использует Ubuntu, есть Yellowdog Updater для пользователей CentOS. А еще dnf, Pacman, Zypper и куча других. Они выполняют одни и те же функции, но не взаимозаменяемы, поэтому придется переучиваться под каждый дистрибутив.<br>
Snap — универсальный формат для дистрибутивов Linux
<p>
Deb-пакет это обычный архив файлов, содержащий файлы, предназначенные для установки в систему, а так же некоторые служебные файлы, необходимые для того чтобы эту установку сделать гибкой.

<h4>Менеджер пакетов apt</h4>
<b>APT</b> (Advanced Packaging Tool) ― это инструмент командной строки, который помогает взаимодействовать с программами. Этот пакетный менеджер был разработан для Debian, однако позже стал использоваться и в других дистрибутивах, основанных на нем.
<p>
Синтаксис для работы с утилитой:
<p>
<b>sudo apt опции команда имя_пакета</b>
<p>
<b>Команды apt для управления пакетами:</b>
<ul>
<li> download ― скачать, но не устанавливать пакет;
<li> update ― обновление информации о списках пакетов в репозиториях,
<li> upgrade ― обновление системы без удаления пакетов,
<li> full-upgrade ― полное обновление системы с удалением конфликтующих зависимостей,
<li> install ― установка пакета,
<li> remove ― удаление пакета, но без удаления конфигурационных файлов,
<li> purge ― полное удаление пакета,
<li> autoremove ― автоматическое удаление ненужных пакетов,
<li> search ― поиск пакета в локальной базе данных,
<li> show ― узнать информацию о пакете.
</ul>
<p>
Основные опции:
<ul>
<li> c ― сторонний конфигурационный файл,
<li> o ― строка конфигурации,
<li> t ― версия релиза, для которой устанавливать пакет,
<li> f ― выполнить операцию принудительно.
</ul>
<p>
<b>Как установить deb-пакет на Ubuntu и Debian из официального репозитория</b><br>
Установка программ в Debian и Ubuntu происходит одинаково.
<ol>
<li> Обновите список пакетов:
<p>
<b>sudo apt update</b><p>
<li> Проверьте, есть ли пакеты для установки в наших репозиториях. Для этого введите команду:
<p>
<b>apt search gimp</b>
<p>
Вместо gimp вставьте название вашей программы.
<p>
Если вы видите, что программа есть в репозитории, ее можно установить. Также в списке вы увидите название пакета для установки
<li> Чтобы установить программу, введите:
<p>
<b>sudo apt install gimp</b>
<p>
Где вместо gimp укажите название нужной программы. В процессе загрузки система попросит у вас пароль и подтверждение установки.
</ol>
Готово, вы установили сам пакет и все зависимости.
<p>
Чтобы узнать какие пакеты установлены в ОС, служит команда:
<p>
<b>apt list --installed | less</b>
<p>
Чтобы удалить пакет, используйте команду:
<p>
<b>sudo apt remove program_name</b>
<p>
Где program_name ― это имя программы, которое нужно удалить.

<h4>Менеджер пакетов snap</h4>
С недавних пор в Ubuntu и некоторых других современных дистрибутивах появился инструмент под названием snap. Это программа для установки сторонних лицензированных приложений. В частности, коммерческих. Дело в том, что в репозитории с ПО (откуда обычно скачиваются пакеты с помощью apt) намеренно не добавляют проприетарный «софт». Там лежат только программы с открытым исходным кодом. Это, конечно, усложняло их установку до определенного момента. То есть до появления snap. В его базе приложений есть все полезные коммерческие продукты типа Skype, Opera и проч. Работает так: snap install skype. Даже __sudo__вводить не нужно. snap сам затребует пароль через графическую оболочку.

<h3 align=center>Установка программ из бинарных файлов (*.bin):</h3>
Загрузка бинарных файлов с официальных сайтов разработчиков<br>
Установка бинарных файлов с помощью команд chmod +x и ./<имя файла>
<p>
Допустим, мы хотим установить бинарную версию программного обеспечения Universal Robots URcap Development Tools, которое используется для создания URCap’ов — расширений функциональности роботов Universal Robots. В качестве примера возьмём бинарный файл драйверов Intel:<br>
    1. Откройте браузер и перейдите на <a href="https://downloadcenter.intel.com/">официальный сайт Intel</a>.<br>
    2. С помощью поиска на сайте найдите нужный вам драйвер и скачайте соответствующий bash-скрипт.<br>

3. Откройте терминал и перейдите в директорию, куда вы загрузили файл, с помощью команды <b>cd /path/to/directory</b>.<br>
4. Сделайте файл исполняемым с помощью команды:<p>
<font color="green">chmod +x filename.sh</font><br>
5. Запустите установку с помощью команды: <b>./filename.sh</b>

<h3 align=center>Установка программ из исходных кодов:</h3>
Это самый универсальный способ установки новых программ в Linux. Универсальный он, потому что работает в любой операционной системе одинаково. Исходный код чист. Он не упакован в какой-либо формат, который может считать только определенный менеджер пакетов. И эта универсальность подкупает.
<p>
С другой стороны, сборка исходного кода — это полностью ручной труд. Менеджеры пакетов хороши тем, что они сами ищут нужные файлы, сами ищут зависимые пакеты и так далее. Команда make так не умеет. Если в системе чего-то не хватает для сборки приложения из исходного кода, то утилита сборки откажется выполнять свою работу. Придется читать длинные инструкции и логи, чтобы исправить все ошибки и наконец собрать нужное ПО.
<p>
Что касается самого процесса, то он выглядит примерно так:
<ol>
<li> Сначала загружаем архив с исходным кодом.
<li> Распаковываем его в любую папку.
<li> Открываем терминал.
<li> Переходим с помощью команды cd в папку с исходным кодом.
<li> Запускаем скрипт make для сборки программы.
</ol>
Звучит довольно просто, но на деле можно столкнуться с кучей неразрешенных зависимостей. В этом случае придется все их установить самостоятельно.
<p>
<b>Вариант configure & make:</b><br>
В качестве примера возьмём исходный код библиотеки libusb.<br>
1. Клонируйте репозиторий с исходным кодом с помощью команды:<p>
<font color=green>git clone https://github.com/libusb/libusb.git</font><br>
2. Откройте терминал и перейдите в директорию с исходным кодом с помощью команды:<p>
<font color=green>cd libusb</font>
<p>
3. Если в репозитории нет файла `configure`, запустите скрипт для его генерации:<p>
<font color=green>./bootstrap.sh</font><p>
(В этом проекте ./bootstrap.sh — это скрипт, используемый для генерации конфигурационных файлов и подготовки инфраструктуры сборки перед компиляцией)<br>
4. Запустите скрипт: <b>./configure</b><br>
Так вы проверите наличие всех необходимых зависимостей и настроите среду для компиляции.<br>
5. Запустите процесс компиляции с помощью команды: <b>make</b><br>
6. Установите программу в систему с помощью команды:<p>
<font color=green>sudo make install</font>
<p>
<b>Вариант cmake & make:</b><br>
Теперь установим программу из исходных кодов с использованием cmake и make:
<ol>
<li>. Откройте веб-браузер и перейдите на официальный сайт OpenCV.
<li>. Перейдите в раздел Releases и выберите последнюю версию для загрузки.
<li>. Откройте терминал и перейдите в директорию, куда вы загрузили исходный код, с помощью команды:<br>
    <b>cd /path/to/directory</b>
<li>. Разархивируйте файл с помощью команды:<p>
<font color="green">tar -xvf opencv-version.tar.gz</font>
<li>. Перейдите в директорию с исходным кодом OpenCV с помощью команды: <b>cd opencv-version</b>
<li>. Создайте директорию для сборки с помощью команды: <b>mkdir build</b><br>
    и перейдите в неё с помощью команды: <b>cd build</b>
    <p>
    Запустите cmake с помощью команды:<p>
    <font color=green>cmake ..</font><p>
    Это сконфигурирует среду для сборки исходного кода.<br>
    По умолчанию OpenCV будет установлен в /usr/local.<br>
    Если вы хотите изменить путь установки, используйте <font color="red">-D CMAKE_INSTALL_PREFIX=/desired/path</font>.<p>
    После того как cmake завершит свою работу, запустите процесс компиляции с помощью команды:<p>
    <font color=green>make</font><p>
    После успешной компиляции установите OpenCV с помощью команды:<p>
    <font color=green>sudo make install</font><p>
    Обновите кеш библиотек с помощью команды:<p>
    <font color=green>sudo ldconfig</font>
    </ol>
    Это стандартная процедура установки OpenCV из исходных кодов на большинстве Linux-систем. Пожалуйста, перед установкой убедитесь, что на вашей системе установлены все зависимости.
<p>
<h3 align=center>Решение проблем при установке программ:</h3>
<b>Управление зависимостями с помощью apt:</b><br>
Допустим, вам нужно установить пакет libboost-all-dev, который является зависимостью для многих проектов в области робототехники.
<ol>
<li>. Откройте терминал и попробуйте установить пакет с помощью команды:<p>
<font color=green>sudo apt install libboost-all-dev</font>
<li>. Если возникает ошибка, говорящая о том, что пакет не может быть установлен из-за неразрешённых зависимостей, вы можете попробовать автоматически исправить это с помощью команды:
<p>
    <font color="green">sudo apt --fix-broken install</font>
<p>
<li>. Если это не помогает, можно попробовать обновить список пакетов с помощью
команды:<p>
<font color=green>sudo apt update</font>
<p>
а затем повторить попытку установки.
</ol>
<h3 align=center>Устранение конфликтов, переустановка или удаление проблемных пакетов</h3>
Предположим, у вас есть проблемы с установленным пакетом ros-noetic-desktop-full.
Вы можете попробовать переустановить этот пакет с помощью команды:
<p>
    <font color="green">sudo apt reinstall ros-melodic-desktop-full</font>
    <p>
Если это не помогает, можно попробовать удалить пакет с помощью команды:
<p>
    <font color=green>sudo apt remove ros-melodic-desktop-full</font>
<p> а затем установить его снова.<br>
Если у вас есть конфликтующие пакеты, вы можете увидеть их, запустив<br>
<b>sudo apt -f install</b><br>
без указания пакета. Эта команда покажет вам любые проблемы с зависимостями.



<br><br><br><br><br><br></body></html>
