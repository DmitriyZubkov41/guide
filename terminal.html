<html><head>
<style>
.menu {
       height: 100%;
       width: 160px;
       position: fixed; /* Фиксированная боковая панель (оставайтесь на месте при прокрутке) */
       /*background-color: #111;  Черный */
      }
 .menu a {
  padding: 6px 8px 6px 16px;
  text-decoration: none;
  font-size: 15px;
  color: #818181;
  display: block;
          }     
.content {
           margin-left: 160px; /* То же, что и ширина боковой панели */
         }
</style>
</head><body>
<title>Команды терминала</title>
<div class="menu">
<a href="#make">Создание файла</a><br>
<a href="#find">Поиск</a><br>
<a href="#rename">Переименование файла</a><br>
<a href="#delete">Удаление файла</a><br>
<a href="#mkdir">Создание папок командами md и mkdir</a>
<a href="#swap">Команды с swap-файлами</a><br>

</div>
<div class="content" >
<h2><a name="top">Команды для работы с файлами</h2>
<a name="make"><h4>Создание файла</h4>
Самый простой способ создать файл в Linux  — команда touch. Для этого ей достаточно только передать полный путь. Например, создадим в директории docs папку copies, а внутри неё — copies-list.txt:
<pre>
touch docs/copies/copies-list.txt
</pre>
Несуществующая папка copies создастся автоматически.
<p>
Если нужно создать сразу несколько файлов, можно просто перечислить их через пробел: 
<pre>
touch file1.txt file2.txt file3.txt file4.txt file5.txt
</pre>
Ещё один способ — вызвать какой-нибудь консольный текстовый редактор с указанием полного пути к файлу. Тогда редактор автоматически создаст его и откроет для редактирования. Однако все папки придётся создать заранее, а файл придётся сохранить (даже пустой), иначе он не будет создан.<br>
Команда ниже создаст new-file.txt с помощью редактора vi:
<pre>
vi new-file.txt
</pre>
Для сохранения и выхода в vi нужно нажать клавишу Esc, ввести сочетание :wq и нажать Enter. Для выхода без сохранения нужно также нажать Esc, ввести сочетание :q! и нажать Enter.
<p>
Чтобы создать пустой файл в Linux можно с помощью команды cat или команды echo: 
<pre>
cat > new-file.txt
echo > new-file.txt
</pre>
<pre>



</pre>
<h3><a name="find">Поиск</h3>
<b>Команда locate</b><br>
Первая команда поиска файлов в Linux, которую мы рассмотрим, называется locate. Она осуществляет быстрый поиск по имени в специальной базе данных и выводит все имена, совпадающие с заданной подстрокой. Например, мы хотим найти все программы, начинающиеся с «zip». Так как будем искать именно программы, логично предположить, что имя директории заканчивается на «bin». Учитывая все это, попробуем найти нужные файлы:<br>
<b>locate bin/zip</b><br>
locate осуществил поиск в базе данных путевых имен и вывел все имена, содержащие подстроку «bin/zip».
<p>
При более сложных критериях поиска можно комбинировать locate с другими программами, например grep:
<p>
<b>locate bin | grep zip</b>
<p>
Иногда возникают ситуации, когда в Linux поиск по названию файла с помощью locate работает некорректно (вывод имен удаленных файлов, отсутствие имен недавно созданных файлов). В таком случае нужно обновить базу данных индексов:
<p>
<b>sudo updatedb</b>

<h3>Команда find</h3>
find является основным инструментов для поиска файлов в Linux через консоль. В отличие от locate, find позволяет находить файлы не только по имени, но и по другим разнообразным критериям: по размеру, дате создания, по правам и т.п.
<p>
В простом случае в качестве аргумента передается имя директории. find осуществляет поиск файла в каталоге Linux, который мы указали, а также во всех подкаталогах. Без указания опций, команда выводит список всех файлов. Например, для получения всех имен в домашней директории можно использовать такую команду:
<p>    
<b>find ~</b>
<p>
Вывод будет очень большим, так как find напечатает все имена в указанном каталоге и подкаталогов. Чтобы сделать поиск более конкретным, используются специальный опции, позволяющие задать критерии.
<p>
<b>Критерии поиска:</b><br>
Допустим, нам нужно вывести файлы, являющиеся только каталогами. Опция -type позволяет задать тип:
<p>
<b>find ~/playground/ -type d</b
<b><pre>
/home/gendo/playground/
/home/gendo/playground/bash
/home/gendo/playground/alis
/home/gendo/playground/test
/home/gendo/playground/ubuntussh
/home/gendo/playground/src
/home/gendo/playground/src/diction-1.11
/home/gendo/playground/src/diction-1.11/test
</pre></b>
Данная команда вывела все подкаталоги в директории ~/playground. Поддерживается поиск по следующим типам:
<ul>
<li> b — блочное устройство.
<li> с — символьное устройство.
<li> d — директория.
<li> f — регулярный файл.
<li> l — символическая ссылка.
</ul>
Мы также можем искать по размеру и имени, добавив дополнительные критерии. Попробуем найти регулярные файлы, совпадающие с шаблоном «.png» и имеющие размер более одного килобайта:
<p>
<b>find ~ -type f -name "*.png" -size +1k</b>
<p>  
Опция -name позволяет указать имя. В приведенном примере используется wildcard-шаблон, поэтому он заключен в кавычки. Параметр -size ограничивает поиск по размеру. Знак + перед числом означает, что мы ищем файлы больше указанного размера, минус — меньше указанного размера. В случае отсутствия знака find выведет все файлы, точно совпадающие с заданным размером.
<p>
Символы, позволяющие указать размер:
<ul>
<li> b — 512-байтовые блоки. Используется по умолчанию, когда после числа отсутствует символ.
<li> с — байты.
<li> w — 2-байтовые слова.
<li> k — килобайты.
<li> M — мегабайты.
<li> G — гигабайты.
</ul>



<h3><a name="rename">Переименование файла</h3>
Для переименования файла в Linux можно использовать следующие утилиты:
<p>
mv — стандартная утилита для перемещения файлов. Чтобы переименовать файл, достаточно вызвать утилиту без дополнительных опций, передав ей имя нужного файла и новое имя.
<p>
rename — специально разработанная для этой задачи команда, которая поддерживает массовое переименование файлов и использование регулярных выражений.
<p>
pyrenamer — графическая программа для массового переименования файлов.



<h3><a name="delete">Удаление файла</h3>
Удаление файлов и папок командами del и rm<br>
Чтобы удалить файл или папку в Windows, выполните команду del [ файл или папка ].<br>
В macOS и Linux для этого используется команда rm [ файл ] ( rm — сокращение от remove).<br>
Две команды удаления несколько отличаются друг от друга. В Windows выполнение del для папки удаляет все содержащиеся в ней файлы, но не вложенные папки. Команда del также не удаляет исходную папку; для этого необходимо воспользоваться командой rd или rmdir (см. «Удаление папок командами rd и rmdir», с. 59). Кроме того, выполнение команды del [ папка ] не приведет к уда-
лению каких-либо файлов в папках, вложенных в исходную. Чтобы удалить их, выполните команду del /s /q [ папка ] . Ключ /s выполняет команду del вместе с вложенными папками, а ключ /q фактически означает «делай, как я сказал, и не
спрашивай подтверждения».
<p>
В macOS и Linux команда rm не может использоваться для удаления папок. Впрочем, вы можете выполнить команду rm -r [ папка ] для удаления папки и всего ее содержимого. В системе Windows то же самое делает команда rd /s /q [ папка ]

<a name="mkdir"><h3>Создание папок командами md и mkdir</h3>
Команда md [ новая папка ] создает новую пустую папку в Windows, а команда mkdir [ новая папка ] делает то же самое в macOS и Linux. Команда mkdir также работает в Windows, но md вводить быстрее.<br>
Пример в окне терминала Linux:
<pre>
al@ubuntu:~/Desktop$ mkdir yourScripts
al@ubuntu:~/Desktop$ cd yourScripts
al@ubuntu:~/Desktop/yourScripts$ ls
al@ubuntu:~/Desktop/yourScripts$
</pre>
Обратите внимание: только что созданная папка yourScripts пуста; когда мы выполняем команду ls для вывода ее содержимого, не выводится ничего.
<h3>Удаление папок командами rd и rmdir</h3>
Команда rd [ исходная папка ] удаляет исходную папку в Windows, а команда rmdir [ исходная папка ] — в macOS и Linux. Как и в случае с mkdir , команда rmdir также работает в Windows, но команду rd вводить быстрее. Чтобы папку можно было
удалить, она должна быть пустой.
<p>
Чтобы удалить непустую папку (вместе со всеми папками и файлами в ней), вы-
полните команду rd /s/q [ исходная папка ] в Windows или команду rm -rf [ исходная папка ] в macOS и Linux.
<p>
<h3>Поиск программ командами where и which</h3>
Команда where [ программа ] в Windows или which [ программа ] в macOS и Linux сообщает точное местонахождение программы. Когда вы вводите команду в командной строке, осуществляется поиск программы в папках, входящих в переменную среды PATH (правда, Windows начинает с текущего рабочего каталога). Эти команды сообщают, какая исполняемая программа Python запускается при
вводе команды python в командной оболочке. Если у вас установлено сразу несколько версий Python, на компьютере могут существовать разные исполняемые программы с одинаковыми именами. Выбор запускаемой программы зависит от порядка следования папок в переменной среды PATH , а команды where и which выводят ее полное имя:
<pre>
C:\Users\Al>where python
C:\Users\Al\AppData\Local\Programs\Python\Python38\python.exe
</pre>
В этом примере имя папки указывает, что версия Python, запускаемая из оболочки,
находится в папке C:\Users\Al\AppData\Local\Programs\Python\Python38\ .
<p>
<h3>Очистка терминала командами cls и clear</h3>
Команда cls в Windows или clear в macOS и Linux стирает весь текст в окне терминала. Например, эта возможность пригодится, если вы хотите начать с пустого окна терминала.
<pre>


</pre>
<a name="env"><h3 align=center>Переменные среды и PATH</h3>
У всех выполняемых процессов программы, на каком бы языке она ни была написана, имеется набор переменных среды, где хранятся строки. Переменные среды часто содержат настройки системного уровня, которые могут оказаться полезными
в каждой программе. Например, переменная среды TEMP содержит путь к каталогу, где любая программа может хранить временные файлы. Когда операционная система запускает программу (например, командную строку), созданный процесс получает собственную копию переменных среды операционной системы. Переменные среды процесса могут изменяться независимо от набора значений переменных
среды операционной системы. Но эти изменения действуют только на этот процесс, но не на операционную систему или другие процессы.
<p>
Я рассматриваю переменные среды в этой главе, потому что одна из этих переменных — PATH — пригодится вам при запуске программ из командной строки.
<h4>Просмотр переменных среды</h4>
Чтобы просмотреть список переменных среды для окна терминала, выполните команду set (в Windows) или env (в macOS или Linux) в командной строке:
<pre>
C:\Users\Al>set
ALLUSERSPROFILE=C:\ProgramData
APPDATA=C:\Users\Al\AppData\Roaming
CommonProgramFiles=C:\Program Files\Common Files
--snip--
USERPROFILE=C:\Users\Al
VBOX_MSI_INSTALL_PATH=C:\Program Files\Oracle\VirtualBox\
windir=C:\WINDOWS
</pre>
Слева от знака равенства ( = ) указывается имя переменной среды, а справа — строковое значение. Каждый процесс содержит отдельный набор переменных среды, так что разные командные строки могут содержать разные значения своих переменных среды.<br>
Для просмотра значения одной переменной среды также можно воспользоваться командой echo . Команда echo %HOMEPATH% в Windows или echo $HOME в macOS или Linux выводит значение переменных среды HOMEPATH или HOME соответственно, которые содержат домашнюю папку текущего пользователя. В Windows результат выглядит так:
<pre>
C:\Users\Al>echo %HOMEPATH%
\Users\Al
</pre>
Результат в macOS или Linux:
<pre>
al@al-VirtualBox:~$ echo $HOME
/home/dmitriy
</pre>
Если этот процесс создает другой процесс (например, как командная строка запускает интерпретатор Python), дочерний процесс получает собственную копию переменных среды родительского процесса. После этого дочерний процесс может изменить значения своих переменных среды, и наоборот. Набор переменных среды операционной системы можно рассматривать как эталонную копию, с которой процесс копирует свои переменные среды. Переменные среды операционной системы изменяются реже переменных программы Python.
Более того, многие пользователи вообще не изменяют значения переменных среды.
<h4>Переменная среды PATH</h4>
Когда вы вводите команду (например, python в Windows или python3 в macOS и Linux), терминал ищет программу с таким именем в текущей папке. Если программа там не найдена, то проверяются папки, перечисленные в переменной среды PATH.<br>
Например, на моем компьютере с Windows файл программы python.exe хранится в папке C\Users\Al\AppData\Local\Programs\Python\Python38 . Чтобы его запустить, мне придется ввести полное имя C\Users\Al\AppData\Local\Programs\Python\Python38\python.exe или сначала перейти в эту папку, а затем ввести python.exe.<br> Длинное имя приходится набирать долго, поэтому я включил эту папку в переменную среды PATH.<br>
Теперь при вводе python.exe командная строка ищет программу с заданным именем в папках, перечисленных в PATH , а мне не приходится вводить путь полностью. Так как переменная среды может содержать только одно строковое значение, для
включения нескольких имен папок в переменную среды PATH следует использовать специальный формат. В Windows имена папок разделяются символами ; (точка с запятой). Для просмотра текущего содержимого PATH введите команду path :
<pre>
C:\Users\Al>path
C:\Path;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;
...
C:\Users\Al\AppData\Local\Microsoft\WindowsApps
</pre>
В macOS и Linux имена разделяются двоеточиями:
<pre>
al@ubuntu:~$ <b>echo $PATH</b>
/opt/ros/noetic/bin:/opt/gcc-arm-none-eabi-9-2020-q2-update/bin:/home/dmitriy/gcc-arm-none-eabi-7-2017-q4-major/bin:/home/
dmitriy/.local/bin:/home/dmitriy/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:
/snap/bin
</pre>
Порядок имен папок важен. Если в папках C:\WINDOWS\system32 и C:\WINDOWS находятся два разных файла с именем someProgram.exe , то при вводе команды someProgram.exe будет выполнена программа из C:\WINDOWS\system32 , потому что эта папка первой встречается в переменной среды PATH . Если введенная вами программа или команда не существует ни в текущем рабочем каталоге, ни в одном из подкаталогов в PATH, командная строка сообщает об ошибке — например, command not found or not recognized as an internal or external command (Команда не найдена или не опознана как внутренняя или внешняя команда). Если вы не допустили опечатку, проверьте, в какой папке находится программа и включена ли эта папка в переменную среды PATH .
<h4>Изменение переменной среды PATH в командной строке</h4>
Переменную среды PATH текущего окна терминала можно изменить, включив в нее дополнительные папки. Процессы добавления папок в PATH несколько различаются в Windows и macOS/Linux. В Windows для добавления новой папки в текущее значение PATH можно воспользоваться командой path :
<pre>
1.
C:\Users\Al>path C:\newFolder;%PATH%

C:\Users\Al>path

C:\newFolder;C:\Path;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;
...
C:\Users\Al\AppData\Local\Microsoft\WindowsApps
</pre>
Часть %PATH% ❶ заменяется текущим значением переменной среды PATH , так что фактически вы добавляете новую папку и точку с запятой в начало существующего значения PATH . Снова выполните команду path , чтобы просмотреть новое значение PATH.
<p>
В macOS и Linux для назначения переменной среды PATH можно использовать синтаксис, сходный с синтаксисом команды присваивания в Python:
<pre>
al@al-VirtualBox:~$ PATH=/newFolder:$PATH
❶
al@al-VirtualBox:~$ echo $PATH
❷
/newFolder:/home/al/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/
bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
</pre>
Часть $PATH ❶ заменяется текущим значением переменной среды PATH , так что фактически вы добавляете новую папку и точку с запятой в начало существующего значения PATH . Снова выполните команду echo $path , чтобы просмотреть новое
значение PATH ❷ .<br>
Но оба описанных способа добавления папок в PATH применяются только к текущему окну терминала и ко всем программам, которые запускаются из него после добавления. Если вы откроете новое окно терминала, в нем этих изменений уже
не будет. Чтобы папка была включена в PATH постоянно, необходимо изменить эталонный набор переменных среды операционной системы.
<h4>Постоянное включение папок в PATH в macOS и Linux</h4>
Чтобы добавить папки в переменные среды PATH для всех окон терминала в macOS и Linux, необходимо изменить текстовый файл .bashrc в домашней папке. Добавьте в него следующую строку:
<pre>
export PATH=/newFolder:$PATH
</pre>
Эта строка изменяет PATH для всех будущих окон терминала. В macOS Catalina и в более поздних версиях оболочка по умолчанию сменилась с Bash на Z Shell, в этом случае необходимо изменить файл .zshrc в домашней папке.
<h4>Запуск программ Python без командной строки</h4>
Вероятно, вы уже умеете запускать программы из оболочек, предоставляемых вашей операционной системой. В Windows существует меню Пуск , в macOS — Finder и Dock, а в Ubuntu Linux — Dash. Программы добавляют себя в эти оболочки при установке. Также программу можно запустить двойным щелчком на значке программы в файловом менеджере (таком, как Проводник в Windows, Finder в macOS
или Files в Ubuntu Linux).<br>
Но для программ Python эти способы не годятся. Часто при двойном щелчке на файле .py программа Python не запускается, а открывается в редакторе или IDE. А попытавшись запустить Python напрямую, вы просто откроете интерактивную оболочку Python.<br> Чтобы запустить программу Python, пользователи чаще всего открывают ее в IDE и выбирают команду меню Run или же выполняют ее в командной строке. Оба способа не слишком удобны, если вам нужно просто запустить
программу Python. Но вы можете настроить программы Python так, чтобы они запускались из оболочки вашей операционной системы (как и другие приложения, установленные в системе). Далее я подробно расскажу, как сделать это в конкретной операционной системе.
<h4>Запуск программ Python в Ubuntu Linux</h4>
В Ubuntu Linux не существует быстрого способа запуска сценариев Python, похожего на те, которые существуют в Windows и macOS, но все же облегчить себе жизнь можно. Сначала убедитесь в том, что файл .py хранится в домашней папке. Затем включите следующую строку, которая должна быть первой строкой файла .py :
<pre>
#!/usr/bin/env python3
</pre>
Строка сообщает Ubuntu, что для запуска этого файла должна использоваться программа python3 . После этого выполните команду chmod в терминале, чтобы добавить для этого файла разрешение исполнения:
<pre>
al@al-VirtualBox:~$ chmod u+x yourScript.py
</pre>
Теперь каждый раз, когда вы захотите быстро запустить сценарий Python, откройте новое окно терминала клавишами Ctrl-Alt-T . В терминале будет выбрана домашняя папка, так что вы можете просто ввести ./yourScript.py для запуска этого сценария.<br>
Префикс ./ необходим, потому что он сообщает Ubuntu, что сценарий yourScript.py находится в текущем рабочем каталоге (домашней папке в данном случае).
<pre>

=======================================================================================================================

</pre>
<h3 align=center><a name="swap"><a href="https://losst.pro/fajl-podkachki-linux">Команды с swap-файлом</a></h3>
В операционной системе Linux, как и в других ОС, файл подкачки нужен для страховки оперативной памяти. Когда установленный объем ОЗУ заканчивается, используется именно выделенная область из файла подкачки. Сам по себе swap - это отдельный логический раздел вашего диска либо просто файл на системном разделе. Чаще всего он создается именно при установке операционной системы. Но создать swap linux можно и после завершения инсталляции ОС.
<p>
<b>Как посмотреть swap в Linux:</b>
<p>
<b>free -h</b><br>
Используемая команда отображает размер файла подкачки вашей операционной системы. Однако, по ее результатам мы не можем определить – это файл подкачки или раздел подкачки. Поэтому будем использовать дополнительный другую команду, чтобы посмотреть swap linux:<br>
<b>swapon --show</b>
<p>
<b>Сохранение изменений после перезагрузк</b><br>
Все операции, которые мы предприняли выше, временны. Как только компьютер будет перезагружен, они отменятся. Для того чтобы сделать изменения постоянными, нам необходимо дописать кое-какую информацию в /etc/fstab. <br>
Прежде чем начать работать с файлом, о котором мы говорим, необходимо обязательно создать его резервную копию:<br>
<b>sudo cp /etc/fstab /etc/fstab.back</b>
<p>
После этого можно переходить непосредственно к добавлению нужных нам данных. Нам надо добавить в файл такую строчку: <i>/swapfile none swap sw 0 0</i><br>
Это реализуется через текстовый редактор, запущенный с правами суперпользователя, либо при помощи введенной в терминал команды:<br>
<b>echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab</b>
<p>
<b>Команды изменения размера swap-файла</b><br>
Сначала отключим его:<br>
<b>sudo swapoff /swapfile</b>
<p>
Меняем размер файла подкачки, воспользовавшись командой, приведенной ниже:<br>
<b>sudo fallocate -l 2G /swapfile</b>
<p>
Теперь форматируем полученный файл в файловую систему swap:<br>
<b>sudo mkswap /swapfile</b>
<p>
затем включаем его обратно:<br>
<b>sudo swapon /swapfile</b>
</div>
<br><br><br><br><br><br><br><br></body></html>
