<html><head></head><body>
    <title>TMUX</title>
<a href="https://habr.com/ru/articles/327630/">Шпаргалка по работе с Tmux (терминальный мультиплексор)</a>
<p>
При первом запуске tmux создается сервер, который действует как оркестратор для будущих экземпляров. Конечно, он также создает клиент, через который мы можем взаимодействовать с сервером. Когда мы выполняем tmux без подкоманд, мы немедленно получаем три элемента по порядку:
<ol>
<li> сессия
<li> окно
<li> панель - находится внутри окна. Если панель одна, то совпадает с окном.
</ol>
Сессии представляют экземпляры запущенного клиента, и на них можно ссылаться с помощью их идентификаторов:<br>
<font color=green>tmux list-sessions</font>
<p>
По умолчанию tmux называет сессии последовательными номерами. Тем не менее, мы также можем использовать подкоманду new-session в сочетании с флагом [-s] ession, чтобы присвоить сеансу конкретное имя.<br>
Независимо от этого, сеанс содержит по крайней мере одно окно, которое содержит по крайней мере одну панель.
<p>
Таким образом, если мы уничтожаем единственную панель последнего окна сеанса, мы фактически уничтожаем сеанс.<br>
С другой стороны, если мы разделяем окно более чем на одну панель, только tmux знает об этом виртуальном разделении. Для самого эмулятора терминала эти границы являются обычными символами, такими же, как и для любой другой части терминала.

<h3 align=center><a href="https://www.baeldung.com/linux/tmux-copy-paste-keyboard-mouse">Копирование внутри tmux</a></h3>
Для того, чтобы в tmux что-нибудь скопировать, нужно войти в режим копирования. Для этого нажимает префикс (Ctrl+B) и далее [.<br>
Индикаторы режима копирования:
<ul>
<li> текущая программа в панели состояния становится [tmux]
<li> граница соответствующей панели становится желтой
<li> в правом верхнем углу панели появляется индикатор типа [# / #]
</ul>
Индикатор показывает, сколько строк в данный момент скрыто от просмотра в нижней части экрана и сколько всего строк было в верхнем буфере до перехода в режим копирования.
<p>
После перехода в режим копирования, клавиши навигации и действия, которые мы можем использовать, зависят от текущей схемы ключей. Возможны два варианта: emacs и vi. Узнать какая схема: <b>tmux show-options -g | grep status-keys</b><br>
У меня emacs.
<p>
<b>setw -g mode-keys vi</b><br>
Эта команда устанавливает vi в качестве схемы по умолчанию для сеанса tmux. Чтобы убедиться, что он остается настроенным, мы также можем добавить его в соответствующий файл .tmux.conf.
<p>
Основные клавиши режима копирования<br>
<img src="./images/tmux.png">
<p>
После копирования выделенного элемента мы выходим из режима копирования и вставляем с помощью Ctrl + B, за которым следует [, т.е. Ctrl + B и [.
<p>
Пример для режима emacs:
<ol>
<li> Нажимаем префикс (Ctrl+B) и потом [. Тем самым вошли в режим копирования.
<li> В режиме копирования мы можем перемещаться по терминалу с помощью стрелок. Подводим курсор с помощью стрелок к началу копируемой области.
<li> Нажимаем Ctrl+Space. Тем самым говорим, что готовы к выделению. 
li> С помощью стрелки выделяем нужную область для копирования.
<li> Нажимаем Ctrl+W. Тем самым копируем выделяемую область в буфер обмена и выходим из режима копирования (индикатор в правом верхнем углу панели исчезнет). Курсор вернётся в последнюю командную строку.
<li> Далее теоретически, чтобы вставить нужно нажать префикс и потом l. Но у меня не получается, только предупреждение: no last window. Скорее всего нужно делать записи в конфигурационном файле TMUX.
/ol>

<h3 align=center><a href="https://www.baeldung.com/linux/tmux-copy-paste-keyboard-mouse">контекстное меню правой кнопкой мыши</a></h3>
В этом случае мы видим, что щелчок правой кнопкой мыши по пустой части терминала предоставляет несколько вариантов:
<ul>
<li> Разделение по горизонтали (h): создает новую панель справа от текущей
<li> Вертикальное разделение (h): создает новую панель внизу текущей
<li> Swap Up (u): поменяйте текущую панель местами с предыдущей
<li> Swap Down (d): поменяйте текущую панель местами со следующей
<li> Swap Marked: меняйте местами отмеченные панели
<li> Kill (X): уничтожить текущую панель
<li> Возрождение (R): возрождение текущей панели
<li> Отметьте (m): отметьте текущую панель (для замены и многого другого)
<li> Масштабирование (z): масштабирование в пределах текущей панели
</ul>

<p>
---------------------------------------------------------------------------------------
<p>
Создание и управление сеансами
<ul>
<li>tmux или tmux new: начать новый сеанс tmux.
<li>tmux new -s session_name: создать новый сеанс с названием session_name.
<li>tmux ls: отобразить список текущих сеансов.
<li>tmux attach -t session_name: присоединиться (или вернуться) к сеансу session_name.
<li>tmux switch -t session_name: переключиться на другой сеанс session_name.
<li>tmux rename-session -t old_name new_name: переименовать сеанс old_name в new_name.
</ul>
Управление окнами
<ul>
<li>tmux new-window (префикс + c): создать новое окно.
<li>tmux rename-window (префикс + ,): переименовать текущее окно.
<li>tmux switch-window (префикс + l): переключиться на следующее окно.
<li>tmux select-window -t :0-9 (префикс + 0-9): переключиться на окно по номеру.
</ul>
Управление панелями
<ul>
<li>tmux split-window -v (префикс + "): разделить окно горизонтально.
<li>tmux split-window -h (префикс + %): разделить окно вертикально.
<li>tmux select-pane -[UDLR] (префикс + стрелка): переключиться на другую панель.
<li>tmux resize-pane -[UDLR] (префикс + Alt + стрелка): изменить размер панели.
</ul>

Скроллинг и копирование
<ul>
<li>tmux scroll-mode (префикс + [): включить режим прокрутки для просмотра истории.
<li>Копирование: в tmux есть управление копированием и вставкой с помощью клавиш. Для перехода в режим копирования нажмите Ctrl+B [, затем переместите курсор к нужному месту с помощью стрелок. Кстати, этот режим можно использовать также для прокрутки. Потом нажмите Ctrl+пробел для начала выделения, выделите нужный фрагмент стрелками и нажмите Ctrl+w для копирования. Чтобы вставить текст из внутреннего буфера обмена нужно нажать сочетание клавиш Ctrl+b ]. Для выхода из режима копирования используйте q или Esc.
</ul>
Прочие команды
<ul>
<li>tmux kill-session -t session_name: закрыть сеанс.
<li>tmux kill-window -t window_name: закрыть окно в текущем сеансе.
<li>tmux detach (префикс + d): отсоединиться от текущего сеанса.
</ul>
По умолчанию префикс команды в tmux устанавливается как Ctrl-b, но его можно изменить в файле конфигурации.
<p>Настройка tmux<br>
Файл конфигурации tmux находится в домашней директории и называется .tmux.conf.<br>
Вы можете настроить внешний вид, горячие клавиши и другие параметры, которые упростят вашу работу.

<p>
<h3 align="center"><a href="https://habr.com/ru/articles/327630/">Работа с Tmux</a></h3>

    Старт<br>
    # tmux //без параметров будет создана сессия 0<br>
    # tmux new -s session1 //новая сессия session1. Название отображается снизу-слева в квадратных скобках в статус строке. Далее идет перечисление окон. Текущее окно помечается звездочкой.
<p>    
    Префикс (с него начинаются команды): Ctrl + b 
<p>    
    Новое окно (нажать CTRL+b, затем нажать с)<br>
    Префикс + c
<p>    
    Список окон<br>
    Префикс + w // переключиться курсором вверх-вниз
<p>    
    Переключение<br>
    Префикс + n // следующее окно<br>
    Префикс + p // предыдущее окно<br>
    Префикс + 0 // переключиться на окно №0
    

<p>    
    <b>Переход между панелями</b><br>
    Префикс + стрелки курсора // либо режим мыши
<p>    
    Изменение размеров панелей<br>
    Префикс + c-стрелки // либо режим мыши
<p>    
    Закрытие окон<br>
    Префикс + x // нужно подтвердить y<br>
    либо     # exit
<p>    
    Отключение от сессии<br>
    Чтобы отключиться от сессии tmux и оставить ее запущенной в фоновом режиме, выполните следующую комбинацию клавиш:
Ctrl + b, затем d.<br>
Эта команда переместит вас из сессии tmux в оболочку, а tmux останется запущенным в фоновом режиме.<br>
либо     # tmux detach
<p>    
    Список сессий<br>
    # tmux ls
<p>    
    Подключиться к работающей сессии<br>
    # tmux attach //подключение к сессии, либо к единственной, либо последней созданной<br>
    # tmux attach -t session1 // подключение к сессии session1
<p>    
    Выбрать сессию<br>
    Префикс + s
<p>    
Завершение сессии<br>
Если же вы хотите завершить сессию tmux полностью, нажмите `Ctrl + b` затем введите команду `:kill-session`. Таким образом, вы завершите все окна и панели, связанные с этой сессией Tmux.<br>   

# tmux kill-session -t session1
<p>    
    Завершить все сессии<br>
    # tmux kill-server
<p>    
Список поддерживаемых комманд<br>
# tmux list-commands

<h3 align=center>Практика</h3>
Запуск  tmux, всегда 1 команда: <b>tmux</b>
<p>
Далее чтобы разделить терминал на две панели горизонталью, нажимаю Ctrl+b (префикс) и после <b>"</b> (Shift+")<br>
Можно разделить терминал на две панели вертикалью: префикс и после %<br>
Или разделить на два окна: префикс и после <b>с</b><br>
Но больше нравится вариант с двумя панелями, разделенные горизонталью.   
<p>
Чтобы подправить соотношение размеров панелей по высоте, используем: префикс, Alt+&uarr; (если поднять горизонталь) или &darr; (если опустить).
<p>
Чтобы перейти на верхнюю панель, нажимаем префикс и после &uarr;<br>
Наоборот если перейти на нижнюю панель, то: префикс и далее &darr;
<p>
Закрыть панель, команда: <b>exit</b>
<p>
Закроем единственную панель, автоматически выходим из tmux: <b>exit</b>







<br><br><br><br></body></html>
