<html><head></head><body>
<title>Система прав доступа на файл в linux</title>
Ссылки: <a href="https://losst.pro/prava-dostupa-k-fajlam-v-linux">Права доступа к файлам в Linux</a>
<p>
<h2 align=center>Основные права доступа к файлам в Linux</h2>
Изначально каждый файл имел три параметра доступа. Вот они:
<ul>
<li> Чтение - разрешает получать содержимое файла, но на запись нет. Для каталога позволяет получить список файлов и каталогов, расположенных в нем;
<li> Запись - разрешает записывать новые данные в файл или изменять существующие, а также позволяет создавать и изменять файлы и каталоги;
<li> Выполнение - вы не можете выполнить программу, если у нее нет флага выполнения. Этот атрибут устанавливается для всех программ и скриптов, именно с помощью него система может понять, что этот файл нужно запускать как программу.
</ul>
Но все эти права были бы бессмысленными, если бы применялись сразу для всех пользователей. Поэтому каждый файл имеет три категории пользователей, для которых можно устанавливать различные сочетания прав доступа:
<ul>
<li> Владелец - набор прав для владельца файла, пользователя, который его создал или сейчас установлен его владельцем. Обычно владелец имеет все права, чтение, запись и выполнение.
<li> Группа - любая группа пользователей, существующая в системе и привязанная к файлу. Но это может быть только одна группа и обычно это группа владельца, хотя для файла можно назначить и другую группу.
<li> Остальные - все пользователи, кроме владельца и пользователей, входящих в группу файла.
</ul>
Именно с помощью этих наборов полномочий устанавливаются права файлов в linux. Каждый пользователь может получить полный доступ только к файлам, владельцем которых он является или к тем, доступ к которым ему разрешен. Только пользователь Root может работать со всеми файлами независимо от их набора их полномочий.
<p>
Но со временем такой системы стало не хватать и было добавлено еще несколько флагов, которые позволяют делать файлы не изменяемыми или же выполнять от имени суперпользователя, их мы рассмотрим ниже:

<h3>Специальные права доступа к файлам в Linux</h3>
Для того, чтобы позволить обычным пользователям выполнять программы от имени суперпользователя без знания его пароля была придумана такая вещь, как SUID и SGID биты. Рассмотрим эти полномочия подробнее.
<ul>
<li> SUID - если этот бит установлен, то при выполнении программы, id пользователя, от которого она запущена заменяется на id владельца файла. Фактически, это позволяет обычным пользователям запускать программы от имени суперпользователя;
<li> SGID - этот флаг работает аналогичным образом, только разница в том, что пользователь считается членом группы, с которой связан файл, а не групп, к которым он действительно принадлежит. Если SGID флаг установлен на каталог, все файлы, созданные в нем, будут связаны с группой каталога, а не пользователя. Такое поведение используется для организации общих папок;
<li> Sticky-bit - этот бит тоже используется для создания общих папок. Если он установлен, то пользователи могут только создавать, читать и выполнять файлы, но не могут удалять файлы, принадлежащие другим пользователям.
</ul>
Теперь давайте рассмотрим как посмотреть и изменить права на файлы в Linux.

<h3>Как посмотреть права доступа к файлам в Linux</h3>
Конечно, вы можете посмотреть права доступа к файлам в Linux с помощью файлового менеджера. Все они поддерживают эту функцию, но так вы получите неполную информацию. Для максимально подробной информации обо всех флагах, в том числе специальных, нужно использовать команду ls с параметром -l. Все файлы из каталога будут выведены в виде списка, и там будут показаны все атрибуты и биты.
<p>
<font color=green>ls -l</font>
<p>
За права файлов в linux тут отвечают черточки. Первая это тип файла. Дальше же идут группы прав сначала для владельца, для группы и для всех остальных. Всего девять черточек на права и одна на тип.<br>
Рассмотрим подробнее, что значат условные значения флагов прав:
<ul>
<li> - - нет прав;
<li> x - разрешено право на выполнение файла;
<li> r - чтение;
<li> w - запись;
<li> s - установлен SUID или SGID бит;
<li> t - установлен sticky-bit, а значит пользователи не могут удалить этот файл.
</ul>
<h3>Как изменить права файла в Linux</h3>
Чтобы изменить права на файл в linux вы можете использовать утилиту chmod. Она позволяет менять все флаги, включая специальные.<br>
 Рассмотрим ее синтаксис:
<p>
<font color=green>chmod опции</font> <font color=red>категория</font><font color=blue>действие</font><font color=green>флаг файл</font>
<p>
Опции сейчас нас интересовать не будут, разве что только одна. С помощью опции -R вы можете заставить программу применять изменения ко всем файлам и каталогам рекурсивно.
<p>
<font color=red>Категория</font> указывает для какой группы пользователей нужно применять права, как вы помните доступно только три категории:
<ul>
<li> u - владелец файла;
<li> g - группа файла;
<li> o - другие пользователи.
</ul>
<font color=blue>Действие</font> может быть одно из двух, либо добавить - знак "+", либо убрать - знак "-". Что касается самих прав доступа, то они аналогичны выводу утилиты ls: r - чтение, w - запись, x - выполнение, s - suid/sgid, в зависимости от категории, для которой вы его устанавливаете, t - устанавливает sticky-bit.<br>
Пример, всем пользователям полный доступ к файлу test5:<br>
 chmod ugo+rwx test5
<p>
Или заберем все права у группы и остальных пользователей:<br>
 chmod go-rwx test5
<p>
Дадим группе право на чтение и выполнение:<br>
chmod g+rx test5
<p>
Остальным пользователям только чтение:<br>
chmod o+r test5
<p>
Как видите, изменить права на файл в Linux очень просто. К тому же вы можете изменить основные права с помощью файлового менеджера.

<br><br><br><br><br><br><br><br></body></html>
